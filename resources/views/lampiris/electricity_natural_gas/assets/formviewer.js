/*! FormViewer - v1.1.1 | Copyright 2022 IDRsolutions */
!function(){"use strict";function i(e){d!=e&&(d=e,f.fire("pagechange",{page:d,pagecount:m,isFirstPage:1===d,isLastPage:l.isLastPage(e)}))}function e(e){try{e.getSelection?e.getSelection().empty?e.getSelection().empty():e.getSelection().removeAllRanges&&e.getSelection().removeAllRanges():e.document.selection&&e.document.selection.empty()}catch(e){}}var u,l,p,c,O,h,T,t,o,n,a,v,E,L,S,b,C,F,y,A,w,Z,I,P,M,N,r,_,U,s,f={LAYOUT_CONTINUOUS:"continuous",SELECT_SELECT:"select",SELECT_PAN:"pan",ZOOM_SPECIFIC:"specific",ZOOM_ACTUALSIZE:"actualsize",ZOOM_FITWIDTH:"fitwidth",ZOOM_FITHEIGHT:"fitheight",ZOOM_FITPAGE:"fitpage",ZOOM_AUTO:"auto"},d=1,m=0,x=[],V=[],H=10,k={},R=!1,z=(f.setup=function(e){e=e||FormViewer.config,R=!0,p=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),c=e.bounds,m=e.pagecount,e.url&&e.url,T=!!e.isR2L,u=W("formviewer"),T&&X.addClass(u,"isR2L"),g.setup();var t=document.createElement("style");t.setAttribute("type","text/css"),document.head.appendChild(t),t.sheet,(d<1||m<d)&&(d=1);for(var o=0;o<m&&(c[o][0]==c[0][0]&&c[o][1]==c[0][1]);o++);h===FormViewer.LAYOUT_CONTINUOUS||(h=FormViewer.LAYOUT_CONTINUOUS);var t=[f.LAYOUT_CONTINUOUS],n=(h===FormViewer.LAYOUT_CONTINUOUS&&(l=D),window.addEventListener("resize",function(){g.updateZoom()}),document.createElement("div")),i=(n.style.position="relative",n.style.display="inline-block",n.style.verticalAlign="middle",n.style.minWidth="100%",n.style.lineHeight="normal",u.childNodes);for(null!=i&&i.forEach(function(e){n.appendChild(e)}),u.appendChild(n),O=W("overlay"),Y.setup(),(T=null==(T=W("contentContainer"))?W("mainXFAForm"):T).style.transform="translateZ(0)",T.style.padding=H/2+"px",o=1;o<=m;o++){var r=W("page"+o);r.setAttribute("style","width: "+c[o-1][0]+"px; height: "+c[o-1][1]+"px;"),V[o]=r,x[o]=z(r,o)}l.setup(d),X.addClass(u,"layout-"+l.toString()),g.updateZoomToDefault(),l.goToPage(d);var a,s={selectMode:Y.currentSelectMode,isMobile:p,layout:l.toString(),availableLayouts:t,isFirstPage:1===d,isLastPage:l.isLastPage(d)};for(a in e)e.hasOwnProperty(a)&&(s[a]=e[a]);s.page=d,f.fire("ready",s)},function(e,t){var o={isVisible:function(){return!0},isLoaded:function(){return!0},hide:function(){},unload:function(){f.fire("pageunload",{page:t})},load:function(){f.fire("pageload",{page:t})}};return o}),D=(n=o=0,a=[],(t={}).setup=function(){u.addEventListener("scroll",v);for(var e=0;e<m;e++)c[e][0]>o&&(o=c[e][0]),c[e][1]>n&&(n=c[e][1])},t.unload=function(){u.removeEventListener("scroll",v)},v=function(){E()},E=function(){var e;if(0<V[1].getBoundingClientRect().top)i(1);else for(e=1;e<=m;e++){var t=V[e].getBoundingClientRect(),o=t.top,t=t.bottom-t.top;if(o<=.25*t&&.5*-t<o){i(e);break}}L()},L=function(){a=[d];for(var t,o=u.clientHeight,e=function(e){return 0<(t=V[e].getBoundingClientRect()).bottom&&t.top<o},n=d-1;1<=n&&e(n);n--)a.push(n);for(n=d+1;n<=m&&e(n);n++)a.push(n)},t.goToPage=function(e,t){var o=0;if(t){var n=t.split(" ");switch(n[0]){case"XYZ":o=Number(n[2]);break;case"FitH":o=Number(n[1]);break;case"FitR":o=Number(n[4]);break;case"FitBH":o=Number(n[1])}0!==(o=isNaN(o)||o<0||o>c[e-1][1]?0:o)&&(o=c[e-1][1]-o)}t=g.getZoom();u.scrollTop=V[e].offsetTop-H/2+o*t,i(e),L()},t.getVisiblePages=function(){return a},t.updateLayout=function(){},t.isLastPage=function(e){return e===m},t.getZoomBounds=function(){return{width:o,height:n}},t.getAutoZoom=function(e){return t.getZoomBounds().width>u.clientWidth-H?e:1},t.next=function(){f.goToPage(d+1)},t.prev=function(){f.goToPage(d-1)},t.toString=function(){return FormViewer.LAYOUT_CONTINUOUS},t),Y=(y=!(F={}),F.setup=function(){switch(C){case FormViewer.SELECT_PAN:case FormViewer.SELECT_SELECT:break;default:C=FormViewer.SELECT_SELECT}this.currentSelectMode=C,this.currentSelectMode==f.SELECT_SELECT?F.enableTextSelection():F.enablePanning()},F.enableTextSelection=function(){this.currentSelectMode=f.SELECT_SELECT,X.removeClass(O,"panning"),O.removeEventListener("mousedown",A),document.removeEventListener("mouseup",w),O.removeEventListener("mousemove",Z)},A=function(e){return e=e||window.event,X.addClass(O,"mousedown"),S=e.clientX,b=e.clientY,!(y=!0)},w=function(){X.removeClass(O,"mousedown"),y=!1},Z=function(e){if(y)return e=e||window.event,u.scrollLeft=u.scrollLeft+S-e.clientX,u.scrollTop=u.scrollTop+b-e.clientY,S=e.clientX,b=e.clientY,!1},F.enablePanning=function(){this.currentSelectMode=f.SELECT_PAN,e(window),X.addClass(O,"panning"),O.addEventListener("mousedown",A),document.addEventListener("mouseup",w),O.addEventListener("mousemove",Z)},F.setDefaultMode=function(e){C=e},F),g=(f.setSelectMode=function(e){R?p||(e==f.SELECT_SELECT?Y.enableTextSelection():Y.enablePanning(),f.fire("selectchange",{type:e})):Y.setDefaultMode(e)},N=f.ZOOM_AUTO,r=[.25,.5,.75,1,1.25,1.5,2,2.5,3,3.5,4],_=[f.ZOOM_AUTO,f.ZOOM_FITPAGE,f.ZOOM_FITHEIGHT,f.ZOOM_FITWIDTH,f.ZOOM_ACTUALSIZE],U=0,s=1,{setup:function(){var e=document.createElement("style");e.setAttribute("type","text/css"),document.head.appendChild(e),P=e.sheet},updateZoom:B,updateZoomToDefault:function(){B(M)},zoomIn:function(){B(function(){for(var e,t=s,o=r[r.length-1],n=0;n<r.length;n++)if(t<r[n]){o=r[n];break}for(n=0;n<_.length;n++){var i=G(_[n]);t<i&&i<=o&&(e&&i===o||(e=_[n],o=i))}return e||o}())},zoomOut:function(){B(function(){for(var e,t=s,o=r[0],n=r.length-1;0<=n;n--)if(r[n]<t){o=r[n];break}for(n=0;n<_.length;n++){var i=G(_[n]);i<t&&o<=i&&(e&&i===o||(e=_[n],o=i))}return e||o}())},getZoom:function(){return s},setDefault:function(e){M=e}});function B(e){for(var t=!1,o=!1,e=(4<=(s=G(e))?(s=4,o=!0):s<=.25&&(s=.25,t=!0),u.scrollTop/u.scrollHeight),n=(l.updateLayout(),l.getVisiblePages()),i=1;i<=m;i++)-1===n.indexOf(i)&&x[i].hide();I&&P.deleteRule(I);var r=function(e,t,o,n){n=n?"translate3d("+e+"px, "+t+"px, 0) scale("+o+")":"translateX("+e+"px) translateY("+t+"px) scale("+o+")";return"-webkit-transform: "+n+";\n-ms-transform: "+n+";\ntransform: "+n+";"}(0,0,s,!1);I=P.insertRule(".page-inner { \n"+r+"\n}",P.cssRules.length);for(var a=0;a<m;a++)V[a+1].style.width=Math.floor(c[a][0]*s)+"px",V[a+1].style.height=Math.floor(c[a][1]*s)+"px";u.scrollTop=u.scrollHeight*e,++U%2==1&&B(),f.fire("zoomchange",{zoomType:N,zoomValue:s,isMinZoom:t,isMaxZoom:o})}function G(e){var t=l.getZoomBounds(),o=(u.clientWidth-H)/t.width,n=(u.clientHeight-H)/t.height,t=parseFloat(e);switch(isNaN(t)||(s=t,e=f.ZOOM_SPECIFIC),e=e||N){case f.ZOOM_AUTO:s=l.getAutoZoom(o,n);break;case f.ZOOM_FITWIDTH:s=o;break;case f.ZOOM_FITHEIGHT:s=n;break;case f.ZOOM_FITPAGE:s=Math.min(o,n);break;case f.ZOOM_ACTUALSIZE:s=1}return N=e,s}f.zoomIn=function(){g.zoomIn()},f.zoomOut=function(){g.zoomOut()},f.setZoom=function(e){R?g.updateZoom(e):g.setDefault(e)},f.goToPage=function(e,t){R?1<=e&&e<=m&&l.goToPage(Number(e),t):d=e},f.next=function(){l.next()},f.prev=function(){l.prev()},f.setLayout=function(e){R?(l.unload(),X.removeClass(u,"layout-"+l.toString()),(l=D).setup(d),X.addClass(u,"layout-"+l.toString()),g.updateZoom(FormViewer.ZOOM_AUTO),l.goToPage(d),f.fire("layoutchange",{layout:e})):h=e},f.updateLayout=function(){g.updateZoom()};var W=function(e){return document.getElementById(e)},X=(f.on=function(e,t){k[e]||(k[e]=[]),-1===k[e].indexOf(t)&&k[e].push(t)},f.off=function(e,t){!k[e]||-1!==(t=k[e].indexOf(t))&&k[e].splice(t,1)},f.fire=function(e,t){k[e]&&k[e].forEach(function(e){e(t)})},{addClass:function(e,t){var o=0!==e.className.length?e.className.split(" "):[];-1===o.indexOf(t)&&(o.push(t),e.className=o.join(" "))},removeClass:function(){for(var e=arguments[0],t=0!==e.className.length?e.className.split(" "):[],o=1;o<arguments.length;o++){var n=t.indexOf(arguments[o]);-1!==n&&t.splice(n,1)}e.className=t.join(" ")}}),j=(f.handleFormSubmission=function(e,t){FormVuAPI&&((e=e||window.prompt("Please enter the URL to submit to"))?j(e,t):console.log("No URL provided for FormSubmission"))},function(e,t){FormVuAPI&&(e={url:e,success:function(){alert("Form submitted successfully")},failure:function(){alert("Form failed to submit, please try again")}},"json"===("string"==typeof t?t.toLowerCase():"")?"function"==typeof FormVuAPI.submitFormAsJSON&&FormVuAPI.submitFormAsJSON(e):"function"==typeof FormVuAPI.submitFormAsFormData&&FormVuAPI.submitFormAsFormData(e))});"function"==typeof define&&define.amd?define(["formviewer"],[],function(){return f}):"object"==typeof module&&module.exports?module.exports=f:window.FormViewer=f}();